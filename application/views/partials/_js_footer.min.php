<?php defined('BASEPATH') OR exit('No direct script access allowed'); ?>
<script>
    var is_recaptcha_enabled = false;<?php if ($recaptcha_status == true): ?>is_recaptcha_enabled = true;<?php endif; ?>var img_uplaod_max_file_size = '<?php echo $this->img_uplaod_max_file_size; ?>';$("form").submit(function(){$("input[name='"+csfr_token_name+"']").val($.cookie(csfr_cookie_name))});$(document).ready(function(){$("#main-slider").owlCarousel({autoplay:true,loop:$(".owl-carousel > .item").length<=2?false:true,lazyLoad:true,slideSpeed:3000,paginationSpeed:1000,items:1,dots:true,nav:true,navText:["<i class='icon-arrow-slider-left random-arrow-prev' aria-hidden='true'></i>","<i class='icon-arrow-slider-right random-arrow-next' aria-hidden='true'></i>"],itemsDesktop:false,itemsDesktopSmall:false,itemsTablet:false,itemsMobile:false,});$(document).ready(function(){$("#product-slider").owlCarousel({items:1,autoplay:false,nav:true,loop:$(".owl-carousel > .item").length<=2?false:true,navText:["<i class='icon-arrow-slider-left random-arrow-prev' aria-hidden='true'></i>","<i class='icon-arrow-slider-right random-arrow-next' aria-hidden='true'></i>"],dotsContainer:".dots-container",})});$("#blog-slider").owlCarousel({autoplay:true,loop:$(".owl-carousel > .item").length<=2?false:true,margin:20,nav:true,lazyLoad:true,navText:["<i class='icon-arrow-slider-left random-arrow-prev' aria-hidden='true'></i>","<i class='icon-arrow-slider-right random-arrow-next' aria-hidden='true'></i>"],responsive:{0:{items:1},600:{items:2},1000:{items:3}}});var a=$(".custom-scrollbar");if(a.length){var c=new PerfectScrollbar(".custom-scrollbar",{useBothWheelAxes:true})}var b=$(".message-custom-scrollbar");if(b.length){var c=new PerfectScrollbar(".message-custom-scrollbar",{useBothWheelAxes:true});$(".messages-list").scrollTop($(".messages-list")[0].scrollHeight)}$(document).on("click",".rating-stars .label-star",function(){$("#user_rating").val($(this).attr("data-star"))});$(document).on("click",".btn-open-mobile-nav",function(){document.getElementById("navMobile").style.width="100%"});$(document).on("click",".btn-close-mobile-nav",function(){document.getElementById("navMobile").style.width="0"});$(document).on("click",".close-mobile-nav",function(){document.getElementById("navMobile").style.width="0"});$(document).on("click",".search-icon",function(){if($(".mobile-search-form").hasClass("open-search")){$(".mobile-search-form").removeClass("open-search");$(".mobile-search-button i").removeClass("icon-times");$(".mobile-search-button i").addClass("icon-search")}else{$(".mobile-search-form").addClass("open-search");$(".mobile-search-button i").removeClass("icon-search");$(".mobile-search-button i").addClass("icon-times")}})});$(document).ready(function(a){a(".image-popup").magnificPopup({type:"image",titleSrc:function(b){return b.el.attr("title")+"<small></small>"},image:{verticalFit:true,},gallery:{enabled:true,navigateByImgClick:true,preload:[0,1]},removalDelay:100,fixedContentPos:true,})});$(".mega-menu .nav-item").hover(function(){var a=$(this).attr("data-category-id");$("#mega_menu_content_"+a).show()},function(){var a=$(this).attr("data-category-id");$("#mega_menu_content_"+a).hide()});$(".mega-menu .dropdown-menu").hover(function(){$(this).show()},function(){});$(window).scroll(function(){if($(this).scrollTop()>100){$(".scrollup").fadeIn()}else{$(".scrollup").fadeOut()}});$(".scrollup").click(function(){$("html, body").animate({scrollTop:0},700);return false});$(function(){$(".search-select a").click(function(){$(".search-select .btn").text($(this).text());$(".search-select .btn").val($(this).text());$(".search_type_input").val($(this).attr("data-value"))})});$(function(){$(".sort-select a").click(function(){$(".sort-select .btn").text($(this).text());$(".sort-select .btn").val($(this).text())})});$("#checkAll").click(function(){$("input:checkbox").not(this).prop("checked",this.checked);if($(".checkbox-table").is(":checked")){$(".btn-delete-messages").show()}else{$(".btn-delete-messages").hide()}});$(".checkbox-table").click(function(){if($(".checkbox-table").is(":checked")){$(".btn-delete-messages").show()}else{$(".btn-delete-messages").hide()}});function set_default_location(b){var a={location_id:b};a[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"home_controller/set_default_location",data:a,success:function(c){location.reload()}})}$(document).ready(function(){$("#form_login").submit(function(a){var b=$(this);if(b[0].checkValidity()===false){a.preventDefault();a.stopPropagation()}else{a.preventDefault();var c=b.find("input, select, button, textarea");var d=b.serializeArray();d.push({name:csfr_token_name,value:$.cookie(csfr_cookie_name)});$.ajax({url:base_url+"auth_controller/login_post",type:"post",data:d,success:function(e){if(e=="success"){location.reload()}else{document.getElementById("result-login").innerHTML=e}}})}b[0].classList.add("was-validated")})});$(document).on("click","#submit_review",function(){var d=$.trim($("#user_rating").val());var e=$.trim($("#user_review").val());var c=$.trim($("#review_product_id").val());var b=parseInt($("#product_review_limit").val());if(!d){$(".rating-stars").addClass("invalid-rating");return false}else{$(".rating-stars").removeClass("invalid-rating")}var a={review:e,rating:d,product_id:c,limit:b,};a[csfr_token_name]=$.cookie(csfr_cookie_name);$("#submit_review").prop("disabled",true);$.ajax({type:"POST",url:base_url+"product_controller/make_review",data:a,success:function(f){$("#submit_review").prop("disabled",false);if(f=="voted_error"){$(".error-reviewed").show()}else{if(f=="error_own_product"){$(".error-own-product").show()}else{document.getElementById("review-result").innerHTML=f}}}})});function load_more_review(c){var b=parseInt($("#product_review_limit").val());var a={product_id:c,limit:b};a[csfr_token_name]=$.cookie(csfr_cookie_name);$("#load_review_spinner").show();$.ajax({method:"POST",url:base_url+"product_controller/load_more_review",data:a}).done(function(d){setTimeout(function(){$("#load_review_spinner").hide();document.getElementById("review-result").innerHTML=d},1000)})}function delete_review(c,b,a){swal({text:a,icon:"warning",buttons:true,dangerMode:true,}).then(function(f){if(f){var e=parseInt($("#product_review_limit").val());var d={id:c,product_id:b,limit:e};d[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({method:"POST",url:base_url+"product_controller/delete_review",data:d}).done(function(g){document.getElementById("review-result").innerHTML=g})}})}$(document).ready(function(){var a;$("#make_blog_comment_registered").submit(function(e){e.preventDefault();var d=$.trim($("#comment_text").val());if(d.length<1){$("#comment_text").addClass("is-invalid");return false}else{$("#comment_text").removeClass("is-invalid")}if(a){a.abort()}var b=$(this);var c=b.find("input, select, button, textarea");var f=parseInt($("#blog_comment_limit").val());var g=b.serializeArray();g.push({name:csfr_token_name,value:$.cookie(csfr_cookie_name)});g.push({name:"limit",value:f});c.prop("disabled",true);a=$.ajax({url:base_url+"home_controller/add_comment_post",type:"post",data:g,});a.done(function(h){c.prop("disabled",false);document.getElementById("comment-result").innerHTML=h;$("#make_blog_comment_registered")[0].reset()})});$("#make_blog_comment").submit(function(g){g.preventDefault();var e=$.trim($("#comment_name").val());var d=$.trim($("#comment_email").val());var f=$.trim($("#comment_text").val());if(e.length<1){$("#comment_name").addClass("is-invalid");return false}else{$("#comment_name").removeClass("is-invalid")}if(d.length<1){$("#comment_email").addClass("is-invalid");return false}else{$("#comment_email").removeClass("is-invalid")}if(f.length<1){$("#comment_text").addClass("is-invalid");return false}else{$("#comment_text").removeClass("is-invalid")}if(a){a.abort()}var b=$(this);var c=b.find("input, select, button, textarea");var h=parseInt($("#blog_comment_limit").val());var j=b.serializeArray();j.push({name:csfr_token_name,value:$.cookie(csfr_cookie_name)});j.push({name:"limit",value:h});var i=true;if(is_recaptcha_enabled==true){$(j).each(function(l,k){if(k.name=="g-recaptcha-response"){if(k.value==""){$(".g-recaptcha").addClass("is-recaptcha-invalid");i=false}}})}if(i==true){$(".g-recaptcha").removeClass("is-recaptcha-invalid");c.prop("disabled",true);a=$.ajax({url:base_url+"home_controller/add_comment_post",type:"post",data:j,});a.done(function(k){c.prop("disabled",false);if(is_recaptcha_enabled==true){grecaptcha.reset()}document.getElementById("comment-result").innerHTML=k;$("#make_blog_comment")[0].reset()})}})});function load_more_blog_comment(c){var b=parseInt($("#blog_comment_limit").val());var a={post_id:c,limit:b};a[csfr_token_name]=$.cookie(csfr_cookie_name);$("#load_comment_spinner").show();$.ajax({method:"POST",url:base_url+"home_controller/load_more_comment",data:a}).done(function(d){setTimeout(function(){$("#load_comment_spinner").hide();document.getElementById("comment-result").innerHTML=d},1000)})}function delete_blog_comment(a,c,b){swal({text:b,icon:"warning",buttons:true,dangerMode:true,}).then(function(f){if(f){var e=parseInt($("#blog_comment_limit").val());var d={comment_id:a,post_id:c,limit:e};d[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({method:"POST",url:base_url+"home_controller/delete_comment_post",data:d}).done(function(g){document.getElementById("comment-result").innerHTML=g})}})}$(document).ready(function(){var a;$("#make_comment_registered").submit(function(e){e.preventDefault();var d=$.trim($("#comment_text").val());if(d.length<1){$("#comment_text").addClass("is-invalid");return false}else{$("#comment_text").removeClass("is-invalid")}if(a){a.abort()}var b=$(this);var c=b.find("input, select, button, textarea");var f=parseInt($("#product_comment_limit").val());var g=b.serializeArray();g.push({name:csfr_token_name,value:$.cookie(csfr_cookie_name)});g.push({name:"limit",value:f});c.prop("disabled",true);a=$.ajax({url:base_url+"product_controller/make_comment",type:"post",data:g,});a.done(function(h){c.prop("disabled",false);document.getElementById("comment-result").innerHTML=h;$("#make_comment_registered")[0].reset()})});$("#make_comment").submit(function(g){g.preventDefault();var e=$.trim($("#comment_name").val());var d=$.trim($("#comment_email").val());var f=$.trim($("#comment_text").val());if(e.length<1){$("#comment_name").addClass("is-invalid");return false}else{$("#comment_name").removeClass("is-invalid")}if(d.length<1){$("#comment_email").addClass("is-invalid");return false}else{$("#comment_email").removeClass("is-invalid")}if(f.length<1){$("#comment_text").addClass("is-invalid");return false}else{$("#comment_text").removeClass("is-invalid")}if(a){a.abort()}var b=$(this);var c=b.find("input, select, button, textarea");var h=parseInt($("#product_comment_limit").val());var j=b.serializeArray();j.push({name:csfr_token_name,value:$.cookie(csfr_cookie_name)});j.push({name:"limit",value:h});var i=true;if(is_recaptcha_enabled==true){$(j).each(function(l,k){if(k.name=="g-recaptcha-response"){if(k.value==""){$(".g-recaptcha").addClass("is-recaptcha-invalid");i=false}}})}if(i==true){$(".g-recaptcha").removeClass("is-recaptcha-invalid");c.prop("disabled",true);a=$.ajax({url:base_url+"product_controller/make_comment",type:"post",data:j,});a.done(function(k){c.prop("disabled",false);if(is_recaptcha_enabled==true){grecaptcha.reset()}document.getElementById("comment-result").innerHTML=k;$("#make_comment")[0].reset()})}})});$(document).on("click",".btn-subcomment-registered",function(){var a=$(this).attr("data-comment-id");var b={};b[csfr_token_name]=$.cookie(csfr_cookie_name);$("#make_subcomment_registered_"+a).ajaxSubmit({beforeSubmit:function(){var d=$("#make_subcomment_registered_"+a).serializeArray();var c=$.trim(d[0].value);if(c.length<1){$(".form-comment-text").addClass("is-invalid");return false}else{$(".form-comment-text").removeClass("is-invalid")}},type:"POST",url:base_url+"product_controller/make_comment",data:b,success:function(c){document.getElementById("comment-result").innerHTML=c}})});$(document).on("click",".btn-subcomment",function(){var a=$(this).attr("data-comment-id");var b={};b[csfr_token_name]=$.cookie(csfr_cookie_name);$("#make_subcomment_"+a).ajaxSubmit({beforeSubmit:function(){var e=$("#make_subcomment_"+a).serializeArray();var f=$.trim(e[0].value);var d=$.trim(e[1].value);var c=$.trim(e[2].value);if(is_recaptcha_enabled==true){var g=$.trim(e[3].value)}if(f.length<1){$(".form-comment-name").addClass("is-invalid");return false}else{$(".form-comment-name").removeClass("is-invalid")}if(d.length<1){$(".form-comment-email").addClass("is-invalid");return false}else{$(".form-comment-email").removeClass("is-invalid")}if(c.length<1){$(".form-comment-text").addClass("is-invalid");return false}else{$(".form-comment-text").removeClass("is-invalid")}if(is_recaptcha_enabled==true){if(g==""){$("#make_subcomment_"+a+" .g-recaptcha").addClass("is-recaptcha-invalid");return false}else{$("#make_subcomment_"+a+" .g-recaptcha").removeClass("is-recaptcha-invalid")}}},type:"POST",url:base_url+"product_controller/make_comment",data:b,success:function(c){if(is_recaptcha_enabled==true){grecaptcha.reset()}document.getElementById("comment-result").innerHTML=c}})});function load_more_comment(c){var b=parseInt($("#product_comment_limit").val());var a={product_id:c,limit:b};a[csfr_token_name]=$.cookie(csfr_cookie_name);$("#load_comment_spinner").show();$.ajax({method:"POST",url:base_url+"product_controller/load_more_comment",data:a}).done(function(d){setTimeout(function(){$("#load_comment_spinner").hide();document.getElementById("comment-result").innerHTML=d},1000)})}function delete_comment(a,c,b){swal({text:b,icon:"warning",buttons:true,dangerMode:true,}).then(function(f){if(f){var e=parseInt($("#product_comment_limit").val());var d={id:a,product_id:c,limit:e};d[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({method:"POST",url:base_url+"product_controller/delete_comment",data:d}).done(function(g){document.getElementById("comment-result").innerHTML=g})}})}function show_comment_box(a){$(".visible-sub-comment").empty();var c=parseInt($("#product_comment_limit").val());var b={comment_id:a,limit:c};b[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"product_controller/load_subcomment_box",data:b,success:function(d){$("#sub_comment_form_"+a).append(d)}})}function delete_conversation(a,b){swal({text:b,icon:"warning",buttons:true,dangerMode:true,}).then(function(d){if(d){var c={conversation_id:a};c[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({method:"POST",url:base_url+"message_controller/delete_conversation",data:c}).done(function(e){window.location.href=base_url+"messages"})}})}function delete_selected_conversations(a){swal({text:a,icon:"warning",buttons:true,dangerMode:true,}).then(function(d){if(d){var b=[];$("input[name='checkbox-table']:checked").each(function(){b.push(this.value)});var c={conversation_ids:b};c[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"message_controller/delete_selected_conversations",data:c,success:function(e){location.reload()}})}})}function set_site_language(b){var a={lang_id:b,};a[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({method:"POST",url:base_url+"home_controller/set_site_language",data:a}).done(function(c){location.reload()})}$(document).on("click","#btn_load_more_promoted",function(){$("#load_promoted_spinner").show();var b=$("#input_promoted_products_limit").val();var d=$("#input_promoted_products_per_page").val();var e=$("#input_promoted_products_count").val();var c=parseInt(b)+parseInt(d);var a={limit:b};a[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"home_controller/load_more_promoted_products",data:a,success:function(f){$("#input_promoted_products_limit").val(c);setTimeout(function(){$("#load_promoted_spinner").hide();$("#row_promoted_products").append(f);if(c>=e){$("#btn_load_more_promoted").hide()}},700)}})});function delete_product(b,a){swal({text:a,icon:"warning",buttons:true,dangerMode:true,}).then(function(d){if(d){var c={id:b,};c[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({method:"POST",url:base_url+"product_controller/delete_product",data:c}).done(function(e){location.reload()})}})}$("#form_send_message").submit(function(c){c.preventDefault();var d=$("#message_subject").val();var e=$("#message_text").val();if(d.length<1){$("#message_subject").addClass("is-invalid");return false}else{$("#message_subject").removeClass("is-invalid")}if(e.length<1){$("#message_text").addClass("is-invalid");return false}else{$("#message_text").removeClass("is-invalid")}var a=$(this);var b=a.find("input, select, button, textarea");var f=a.serializeArray();f.push({name:csfr_token_name,value:$.cookie(csfr_cookie_name)});b.prop("disabled",true);$.ajax({url:base_url+"message_controller/add_conversation",type:"post",data:f,success:function(g){b.prop("disabled",false);document.getElementById("send-message-result").innerHTML=g;$("#form_send_message")[0].reset()}})});function get_subcategories(b){var a={parent_id:b};a[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"home_controller/get_subcategories",data:a,success:function(c){document.getElementById("subcategories_container").innerHTML=c;}})}function get_third_categories(b){var a={parent_id:b};a[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"home_controller/get_third_categories",data:a,success:function(c){document.getElementById("third_categories_container").innerHTML=c;get_description(b)}})}function get_states(b){var a={country_id:b};a[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"product_controller/get_states",data:a,success:function(c){$("#states").children("option:not(:first)").remove();$("#states").append(c);update_product_map()}})}function get_cities(b){var a={state_id:b};a[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"product_controller/get_cities",data:a,success:function(c){$("#cities").children("option:not(:first)").remove();$("#cities").append(c);update_product_map()}})}function update_product_map(){var b=$("#countries").find("option:selected").text();var c=$("#countries").find("option:selected").val();var e=$("#states").find("option:selected").text();var f=$("#states").find("option:selected").val();var m=$("#cities").find("option:selected").text();var a=$("#address_input").val()+","+m;var g=$("#zip_code_input").val();var d={country_text:b,country_val:c,state_text:e,state_val:f,address:a,zip_code:g};d[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"product_controller/show_address_on_map",data:d,success:function(h){document.getElementById("map-result").innerHTML=h}})}$(document).on("change","#address_input",function(){update_product_map()});$(document).on("change","#zip_code_input",function(){update_product_map()});$(document).on("click",".item-favorite-button",function(){var b=$(this).attr("data-product-id");if($(this).hasClass("item-favorite-enable")){if($(this).hasClass("item-favorited")){$(this).removeClass("item-favorited")}else{$(this).addClass("item-favorited")}var a={product_id:b};a[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"product_controller/add_remove_favorite_ajax",data:a,success:function(c){}})}});$(document).on("change",".img-file-input-session",function(){var a=$(this).attr("data-image-order");if(this.files[0].size>img_uplaod_max_file_size){$(".error-message-img-upload").show();return false}$("#progress-div-"+a).show();$(".btn-delete-product-img-session").prop("disabled",true);$(".img-file-input-session").hide();$("#product_image_form_"+a).ajaxSubmit({target:"#targetLayer-"+a,beforeSubmit:function(){$("#progress-bar-"+a).width("0%")},uploadProgress:function(b,d,e,c){$("#progress-bar-"+a).width(c+"%");$("#progress-bar-"+a).html('<div id="progress-status-'+a+'">'+c+" %</div>")},complete:function(){var b={};b[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"file_controller/load_image_section",data:b,success:function(c){document.getElementById("product_image_response").innerHTML=c}})},resetForm:true})});$(document).on("change",".img-file-input",function(){var a=$(this).attr("data-image-order");var b=$(this).attr("data-product-id");if(this.files[0].size>img_uplaod_max_file_size){$(".error-message-img-upload").show();return false}$("#progress-div-"+a).show();$(".btn-delete-product-img").prop("disabled",true);$(".img-file-input").hide();$("#product_image_form_"+a).ajaxSubmit({target:"#targetLayer-"+a,beforeSubmit:function(){$("#progress-bar-"+a).width("0%")},uploadProgress:function(c,e,f,d){$("#progress-bar-"+a).width(d+"%");$("#progress-bar-"+a).html('<div id="progress-status-'+a+'"></div>')},complete:function(){var c={product_id:b};c[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"file_controller/load_image_update_section",data:c,success:function(d){document.getElementById("product_image_response").innerHTML=d}})},resetForm:true})});$(document).on("click",".btn-delete-product-img-session",function(){var b=$(this).attr("data-image-order");var a={image_order:b,};a[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"file_controller/delete_image_session",data:a,success:function(c){document.getElementById("product_image_response").innerHTML=c}})});$(document).on("click",".btn-delete-product-img",function(){var c=$(this).attr("data-product-id");var b=$(this).attr("data-image-id");var a={product_id:c,image_id:b};a[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"file_controller/delete_image",data:a,success:function(d){document.getElementById("product_image_response").innerHTML=d}})});function hide_cookies_warning(){$(".cookies-warning").hide();var a={};a[csfr_token_name]=$.cookie(csfr_cookie_name);$.ajax({type:"POST",url:base_url+"home_controller/cookies_warning",data:a,success:function(b){}})}$("#form_validate").validate();$("#form_validate_s").validate();$("#form_validate_ms").validate();$(document).ready(function(a){a(".image-popup").magnificPopup({type:"image",titleSrc:function(b){return b.el.attr("title")+"<small></small>"},image:{verticalFit:true,},gallery:{enabled:true,navigateByImgClick:true,preload:[0,1]},removalDelay:100,fixedContentPos:true,})});
    function get_description(b){
    	var data = {
            "category_id": b
        };
        data[csfr_token_name] = $.cookie(csfr_cookie_name);
        $.ajax({
            type: "POST",
            url: base_url + "product_controller/load_description",
            data: data,
            success: function (response) {
            	$("#description").children().remove();
                $("#description").append(response);
            }
        });
    }

  function get_autocomplete(){
  	    let term = $('#brand').val();
    	var data = {
            "term": term
        };
        data[csfr_token_name] = $.cookie(csfr_cookie_name);
        $.ajax({
            type: "POST",
            url: base_url + "product_controller/get_autocomplete",
            data: data,
            success: function (response) {
            	$("#brands").children().remove();
                $("#brands").append(response);
                if(brand == 0){
                $("#brands").hide()
                }else{
                $("#brands").show()
            	}
            }
        });
    }

    function setIt(term){
    	$("#brand").val(term);
    	$("#brands").hide()
    }

  function get_autocomplete_models(){
  	    let model = $('#model').val();
  	    let brand = $('#brand').val();
    	var data = {
            "brand": brand,
            'model': model
        };
        data[csfr_token_name] = $.cookie(csfr_cookie_name);
        $.ajax({
            type: "POST",
            url: base_url + "product_controller/get_autocomplete_models",
            data: data,
            success: function (response) {
            	$("#models").children().remove();
                $("#models").append(response);
                if(model == 0){
                $("#models").hide()
                }else{
                $("#models").show()
            	}
            }
        });
    }

    function setmodel(term){
    	$("#model").val(term);
    	$("#models").hide()
    }
</script>

<?php if (!auth_check()): ?>
    <?php if (!empty($general_settings->facebook_app_id) && !empty($general_settings->facebook_app_secret)): ?>
        <script>
            $(document).on("click",".btn-login-facebook",function(){FB.login(function(e){"connected"===e.status&&FB.api("/me?fields=email,first_name,last_name",function(e){var n={id:e.id,email:e.email,first_name:e.first_name,last_name:e.last_name};n[csfr_token_name]=$.cookie(csfr_cookie_name),$.ajax({type:"POST",url:base_url+"auth_controller/login_with_facebook",data:n,success:function(e){location.reload()}})})},{scope:"email"})}),window.fbAsyncInit=function(){FB.init({appId:fb_app_id,cookie:!0,xfbml:!0,version:"v2.8"})},function(e,n,t){var o,a=e.getElementsByTagName(n)[0];e.getElementById(t)||((o=e.createElement(n)).id=t,o.src="https://connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(o,a))}(document,"script","facebook-jssdk");
        </script>
    <?php endif; ?>
    <?php if (!empty($general_settings->google_client_id) && !empty($general_settings->google_client_secret)): ?>
        <script src="https://apis.google.com/js/platform.js?onload=onLoadGoogleCallback" async defer></script>
        <script>
            function onLoadGoogleCallback(){sign_in=document.getElementById("googleSignIn"),sign_up=document.getElementById("googleSignUp"),gapi.load("auth2",function(){auth2=gapi.auth2.init({client_id:$("meta[name=google-signin-client_id]").attr("content"),cookiepolicy:"single_host_origin",scope:"profile"}),auth2.attachClickHandler(sign_in,{},function(e){var a=e.getBasicProfile(),t={id:a.getId(),email:a.getEmail(),name:a.getName(),avatar:a.getImageUrl()};t[csfr_token_name]=$.cookie(csfr_cookie_name),$.ajax({type:"POST",url:base_url+"auth_controller/login_with_google",data:t,success:function(e){location.reload()}})},function(e){}),auth2.attachClickHandler(sign_up,{},function(e){var a=e.getBasicProfile(),t={id:a.getId(),email:a.getEmail(),name:a.getName(),avatar:a.getImageUrl()};t[csfr_token_name]=$.cookie(csfr_cookie_name),$.ajax({type:"POST",url:base_url+"auth_controller/login_with_google",data:t,success:function(e){location.reload()}})},function(e){})})}
        </script>
    <?php endif; ?>
<?php endif; ?>
